<%

var result = /^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(color);
var rgb = [parseInt(result[1], 16),parseInt(result[2], 16),parseInt(result[3], 16)];
var o = Math.round(((parseInt(rgb[0]) * 299) + (parseInt(rgb[1]) * 587) + (parseInt(rgb[2]) * 114)) /1000);
var textColor = (o>125? 'black' : 'white');


%>

<span style="padding:2px;color: <%=textColor%>;background-color:<%= color %>;"><%= name %></span>